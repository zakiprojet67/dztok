<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js "></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js </script>

<script>
  // إعداد Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBrxvmLY9TB-uctjgzh75CJTJ3tACPEQlU",
    authDomain: "socialboost-admin.firebaseapp.com",
    databaseURL: "https://socialboost-admin-default-rtdb.firebaseio.com/ ",
    projectId: "socialboost-admin",
    storageBucket: "socialboost-admin.firebasestorage.app",
    messagingSenderId: "1054042174917",
    appId: "1:1054042174917:web:bc923ca8a5dbbdacdd87ac"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  function loadData(callback) {
    firebase.database().ref('serviceData').once('value').then(snapshot => {
      const data = snapshot.val();
      callback(data || defaultData);
    }).catch(() => {
      callback(defaultData);
    });
  }

  function renderServices(data) {
    const container = document.getElementById('services-list');
    const icons = {
      TikTok: "tiktok.png",
      Instagram: "instagram.png",
      Facebook: "facebook.png",
      Telegram: "telegram.png"
    };

    container.innerHTML = '';
    for (const [platform, services] of Object.entries(data)) {
      const firstService = services[0];
      container.innerHTML += `
        <div class="bg-gray-100 p-6 rounded-lg shadow-md hover:shadow-xl transition text-center">
          <img src="${icons[platform]}" alt="${platform}" class="w-12 h-12 mx-auto mb-4 object-cover rounded-full border-2 border-white shadow">
          <h4 class="text-xl font-bold mb-3">${platform}</h4>
          <p class="text-sm text-gray-600">${firstService.description}</p>
        </div>
      `;
    }
  }

  function renderPricing(data) {
    const container = document.getElementById('pricing-list');
    container.innerHTML = '';

    for (const [platform, services] of Object.entries(data)) {
      let html = `
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <div class="bg-purple-600 text-white px-6 py-4">
            <h4 class="text-xl font-bold">${platform}</h4>
          </div>
          <ul class="divide-y divide-gray-200">
      `;

      services.forEach(service => {
        html += `
          <li class="flex justify-between items-center px-6 py-3">
            <span>${service.name}</span>
            <span class="font-semibold text-purple-600">${service.price}</span>
          </li>
          <li class="px-6 py-1 text-sm text-gray-500">${service.description}</li>
        `;
      });

      html += `</ul></div>`;
      container.innerHTML += html;
    }
  }

  const defaultData = {
    TikTok: [
      { name: "1000 متابع", description: "زيادة المتابعين بجودة عالية", price: "$5" },
      { name: "5000 متابع", description: "زيادة كبيرة للمستخدمين", price: "$20" },
      { name: "10000 متابع", description: "نتائج فورية وفعالة", price: "$35" },
      { name: "1000 مشاهدة فيديو", description: "مشاهدات طبيعية", price: "$3" },
      { name: "1000 لايك", description: "إعجابات حقيقية", price: "$2.5" }
    ],
    Instagram: [
      { name: "1000 متابع", description: "متابعين حقيقيين آمنين", price: "$6" },
      { name: "5000 متابع", description: "زيادة كبيرة للمستخدمين", price: "$25" },
      { name: "10000 متابع", description: "نتائج مضمونة", price: "$45" },
      { name: "1000 لايك", description: "إعجابات حقيقية", price: "$3" },
      { name: "1000 مشاهدة ستوري", description: "مشاهدات فورية للستوري", price: "$2.5" }
    ],
    Facebook: [
      { name: "1000 متابع", description: "زيادة عضويات الصفحة", price: "$5.5" },
      { name: "5000 متابع", description: "زيادة كبيرة للمستخدمين", price: "$22" },
      { name: "10000 متابع", description: "زيادة كبيرة للمستخدمين", price: "$40" },
      { name: "1000 لايك", description: "إعجابات حقيقية", price: "$3" },
      { name: "1000 مشاركة", description: "مشاركات نشطة وفاعلة", price: "$4" }
    ],
    Telegram: [
      { name: "1000 مشترك", description: "مشتركين حقيقيين", price: "$4" },
      { name: "5000 مشترك", description: "زيادة كبيرة للمستخدمين", price: "$18" },
      { name: "10000 مشترك", description: "زيادة كبيرة للمستخدمين", price: "$32" },
      { name: "1000 مشاهدة", description: "مشاهدات فيديو", price: "$2" },
      { name: "1000 تعليق", description: "تعليقات حقيقية", price: "$3.5" }
    ]
  };

  window.onload = () => {
    loadData(data => {
      renderServices(data);
      renderPricing(data);
    });
  };
</script>
